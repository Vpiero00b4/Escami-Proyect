<!-- Offcanvas Carrito ya definido en HomeComponent, aquÃ­ solo el contenido -->
<div *ngIf="items.length === 0" class="text-center py-12">
  <div class="text-4xl mb-3">ðŸ›’</div>
  <h5 class="text-gray-700 mb-2">Tu carrito estÃ¡ vacÃ­o</h5>
  <p class="text-gray-500">Agrega productos desde el catÃ¡logo</p>
</div>

<div *ngIf="items.length > 0" class="space-y-4">
  <div *ngFor="let item of items" class="card shadow-sm border-0">
    <div class="card-body d-flex justify-content-between align-items-center p-3">
      
      <!-- Info del producto -->
      <div class="flex-grow-1">
        <h6 class="card-title mb-1 font-semibold">{{ item.titulo }}</h6>
        <small class="text-muted">{{ item.autor || 'Autor no disponible' }}</small>
        <p class="mb-1 text-sm text-gray-500">{{ item.descripcion | slice:0:50 }}{{ item.descripcion.length > 50 ? '...' : '' }}</p>
        <div class="d-flex items-center gap-2 mt-1">
          <label class="form-label m-0 small">Cantidad</label>
          <input type="number" class="form-control form-control-sm w-20"
                 min="1" [max]="item.stock"
                 [value]="item.cantidad"
                 (change)="onQtyChange(item.idLibro, $event)" />
          <small class="text-muted">Stock: {{ item.stock }}</small>
        </div>
      </div>

      <!-- Precio y acciÃ³n -->
      <div class="text-end flex-shrink-0">
        <div class="text-lg font-bold text-green-600 mb-2">
          ${{ item.precio * item.cantidad }}
        </div>
        <button class="btn btn-sm btn-outline-danger w-full" (click)="removerItem(item.idLibro)">
          Eliminar
        </button>
      </div>
    </div>
  </div>

  <!-- Total -->
  <div class="border-t pt-3 flex justify-between items-center font-bold text-lg">
    <span>Total:</span>
    <span>${{ total }}</span>
  </div>

  <!-- Confirmar compra -->
  <div class="mt-3">
    <button class="btn btn-primary w-100 py-2" (click)="confirmarCompra()">
      Confirmar compra
    </button>
  </div>
</div>
